name: GitHub Actions Demo
run-name: Build demo app ðŸš€
on: [push]
jobs:
    build:
        runs-on: ubuntu-latest
        permissions:
          contents: read
          id-token: write
        
        steps:
            - name: Check out repository code
              uses: actions/checkout@v4

            # - name: Authenticate to Google Cloud
            #   uses: google-github-actions/auth@v2
            #   with:
            #       workload_identity_provider: ${{ secrets.WIF_PROVIDER }}
            #       service_account: ${{ secrets.WIF_SERVICE_ACCOUNT }}

            - name: Setup jdk 21
              uses: actions/setup-java@v4
              with:
                  java-version: '21'
                  distribution: 'temurin'
                  cache: 'gradle'

            - name: Setup Gradle
              uses: gradle/actions/setup-gradle@v5
              with:
                gradle-version: '9.2.1'
            
            - name: Build with Gradle
              run: ./gradlew build
